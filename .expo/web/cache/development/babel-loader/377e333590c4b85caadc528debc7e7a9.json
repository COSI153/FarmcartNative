{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nvar _jsxFileName = \"/Users/yuchenxu/Desktop/codecanyon-RWquqpyI-food-delivery-react-native-template/FoodDelivery_Expo/src/screens/cart/CartB.js\";\nimport React, { Component, Fragment } from 'react';\nimport StatusBar from \"react-native-web/dist/exports/StatusBar\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport View from \"react-native-web/dist/exports/View\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport remove from 'lodash/remove';\nimport Button from \"../../components/buttons/Button\";\nimport Divider from \"../../components/divider/Divider\";\nimport EmptyState from \"../../components/emptystate/EmptyState\";\nimport ProductCard from \"../../components/cards/ProductCard\";\nimport { Heading6, Subtitle1 } from \"../../components/text/CustomText\";\nimport Colors from \"../../theme/colors\";\nvar EMPTY_STATE_ICON = 'cart-remove';\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: Colors.background\n  },\n  titleContainer: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    paddingTop: 16,\n    paddingHorizontal: 16,\n    paddingBottom: 16\n  },\n  titleText: {\n    fontWeight: '700'\n  },\n  inline: {\n    flexDirection: 'row',\n    justifyContent: 'center',\n    alignItems: 'flex-end'\n  },\n  subTotalText: {\n    top: -2,\n    fontWeight: '500',\n    color: Colors.onSurface\n  },\n  subTotalPriceText: {\n    fontWeight: '700',\n    color: Colors.primaryColor\n  },\n  bottomButtonsContainer: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    borderTopRightRadius: 22,\n    borderTopLeftRadius: 22,\n    width: '100%',\n    padding: 16,\n    backgroundColor: '#efefef'\n  },\n  button: {\n    width: '48%'\n  }\n});\n\nvar CartB = function (_Component) {\n  _inherits(CartB, _Component);\n\n  function CartB(props) {\n    var _this;\n\n    _classCallCheck(this, CartB);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(CartB).call(this, props));\n\n    _this.componentDidMount = function () {\n      _this.updateTotalAmount();\n    };\n\n    _this.navigateTo = function (screen) {\n      return function () {\n        var navigation = _this.props.navigation;\n        navigation.navigate(screen);\n      };\n    };\n\n    _this.swipeoutOnPressRemove = function (item) {\n      return function () {\n        var products = _this.state.products;\n        var index = products.indexOf(item);\n        products = remove(products, function (n) {\n          return products.indexOf(n) !== index;\n        });\n\n        _this.setState({\n          products: products\n        }, function () {\n          _this.updateTotalAmount();\n        });\n      };\n    };\n\n    _this.onPressRemove = function (item) {\n      return function () {\n        var quantity = item.quantity;\n        quantity -= 1;\n        var products = _this.state.products;\n        var index = products.indexOf(item);\n\n        if (quantity === 0) {\n          products = remove(products, function (n) {\n            return products.indexOf(n) !== index;\n          });\n        } else {\n          products[index].quantity = quantity;\n        }\n\n        _this.setState({\n          products: _toConsumableArray(products)\n        }, function () {\n          _this.updateTotalAmount();\n        });\n      };\n    };\n\n    _this.onPressAdd = function (item) {\n      return function () {\n        var quantity = item.quantity;\n        var products = _this.state.products;\n        var index = products.indexOf(item);\n        products[index].quantity = quantity + 1;\n\n        _this.setState({\n          products: _toConsumableArray(products)\n        }, function () {\n          _this.updateTotalAmount();\n        });\n      };\n    };\n\n    _this.updateTotalAmount = function () {\n      var products = _this.state.products;\n      var total = 0.0;\n      products.forEach(function (product) {\n        var price = product.price;\n        var discountPercentage = product.discountPercentage,\n            quantity = product.quantity;\n\n        if (typeof discountPercentage !== 'undefined') {\n          price -= price * discountPercentage * 0.01;\n        }\n\n        total += price * quantity;\n      });\n\n      _this.setState({\n        total: total\n      });\n    };\n\n    _this.keyExtractor = function (item) {\n      return item.id.toString();\n    };\n\n    _this.renderProductItem = function (_ref) {\n      var item = _ref.item;\n      return React.createElement(ProductCard, {\n        key: item.id,\n        onPress: _this.navigateTo('Product'),\n        onPressRemove: _this.onPressRemove(item),\n        onPressAdd: _this.onPressAdd(item),\n        activeOpacity: 0.7,\n        imageUri: item.imageUri,\n        title: item.name,\n        price: item.price,\n        quantity: item.quantity,\n        swipeoutOnPressRemove: _this.swipeoutOnPressRemove(item),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 204\n        }\n      });\n    };\n\n    _this.renderSeparator = function () {\n      return React.createElement(Divider, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 218\n        }\n      });\n    };\n\n    _this.state = {\n      total: 0.0,\n      products: [{\n        id: 'product1',\n        imageUri: require(\"../../assets/img/pizza_3.jpg\"),\n        name: 'Pizza One',\n        description: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. ',\n        price: 7.99,\n        quantity: 2\n      }, {\n        id: 'product3',\n        imageUri: require(\"../../assets/img/barbecue_1.jpg\"),\n        name: 'Beef',\n        description: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. ',\n        price: 8.99,\n        quantity: 2\n      }, {\n        id: 'product4',\n        imageUri: require(\"../../assets/img/spaghetti_1.jpg\"),\n        name: 'Fettuccine Pasta',\n        description: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. ',\n        price: 11.99,\n        quantity: 1\n      }]\n    };\n    return _this;\n  }\n\n  _createClass(CartB, [{\n    key: \"render\",\n    value: function render() {\n      var _this$state = this.state,\n          total = _this$state.total,\n          products = _this$state.products;\n      return React.createElement(SafeAreaView, {\n        style: styles.container,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 224\n        }\n      }, React.createElement(StatusBar, {\n        backgroundColor: Colors.statusBarColor,\n        barStyle: \"dark-content\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 225\n        }\n      }), React.createElement(View, {\n        style: styles.titleContainer,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 230\n        }\n      }, React.createElement(Heading6, {\n        style: styles.titleText,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 231\n        }\n      }, \"Cart\"), products.length > 0 && React.createElement(View, {\n        style: styles.inline,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 234\n        }\n      }, React.createElement(Subtitle1, {\n        style: styles.subTotalText,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 235\n        }\n      }, \" Subtotal: \"), React.createElement(Heading6, {\n        style: styles.subTotalPriceText,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 236\n        }\n      }, \"$ \" + parseFloat(Math.round(total * 100) / 100).toFixed(2)))), products.length === 0 ? React.createElement(EmptyState, {\n        showIcon: true,\n        iconName: EMPTY_STATE_ICON,\n        title: \"Your Cart is Empty\",\n        message: \"Looks like you haven't added anything to your cart yet\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 244\n        }\n      }) : React.createElement(Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 251\n        }\n      }, React.createElement(FlatList, {\n        data: products,\n        keyExtractor: this.keyExtractor,\n        renderItem: this.renderProductItem,\n        ItemSeparatorComponent: this.renderSeparator,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 252\n        }\n      }), React.createElement(View, {\n        style: styles.bottomButtonsContainer,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 259\n        }\n      }, React.createElement(Button, {\n        onPress: this.navigateTo('Home'),\n        buttonStyle: styles.button,\n        color: Colors.tertiaryColor,\n        rounded: true,\n        title: \"Add More\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 260\n        }\n      }), React.createElement(Button, {\n        onPress: this.navigateTo('Checkout'),\n        buttonStyle: styles.button,\n        rounded: true,\n        title: \"Checkout\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 267\n        }\n      }))));\n    }\n  }]);\n\n  return CartB;\n}(Component);\n\nexport { CartB as default };","map":{"version":3,"sources":["/Users/yuchenxu/Desktop/codecanyon-RWquqpyI-food-delivery-react-native-template/FoodDelivery_Expo/src/screens/cart/CartB.js"],"names":["React","Component","Fragment","remove","Button","Divider","EmptyState","ProductCard","Heading6","Subtitle1","Colors","EMPTY_STATE_ICON","styles","StyleSheet","create","container","flex","backgroundColor","background","titleContainer","flexDirection","justifyContent","alignItems","paddingTop","paddingHorizontal","paddingBottom","titleText","fontWeight","inline","subTotalText","top","color","onSurface","subTotalPriceText","primaryColor","bottomButtonsContainer","borderTopRightRadius","borderTopLeftRadius","width","padding","button","CartB","props","componentDidMount","updateTotalAmount","navigateTo","screen","navigation","navigate","swipeoutOnPressRemove","item","products","state","index","indexOf","n","setState","onPressRemove","quantity","onPressAdd","total","forEach","product","price","discountPercentage","keyExtractor","id","toString","renderProductItem","imageUri","name","renderSeparator","require","description","statusBarColor","length","parseFloat","Math","round","toFixed","tertiaryColor"],"mappings":"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","sourcesContent":["/**\n * Food Delivery - React Native Template\n *\n * @format\n * @flow\n */\n\n// import dependencies\nimport React, {Component, Fragment} from 'react';\nimport {\n  StatusBar,\n  SafeAreaView,\n  StyleSheet,\n  View,\n  FlatList,\n} from 'react-native';\nimport remove from 'lodash/remove';\n\n// import components\nimport Button from '../../components/buttons/Button';\nimport Divider from '../../components/divider/Divider';\nimport EmptyState from '../../components/emptystate/EmptyState';\nimport ProductCard from '../../components/cards/ProductCard';\nimport {Heading6, Subtitle1} from '../../components/text/CustomText';\n\n// import colors\nimport Colors from '../../theme/colors';\n\n// CartB Config\nconst EMPTY_STATE_ICON = 'cart-remove';\n\n// CartB Styles\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: Colors.background,\n  },\n  titleContainer: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    paddingTop: 16,\n    paddingHorizontal: 16,\n    paddingBottom: 16,\n  },\n  titleText: {\n    fontWeight: '700',\n  },\n  inline: {\n    flexDirection: 'row',\n    justifyContent: 'center',\n    alignItems: 'flex-end',\n  },\n  subTotalText: {\n    top: -2,\n    fontWeight: '500',\n    color: Colors.onSurface,\n  },\n  subTotalPriceText: {\n    fontWeight: '700',\n    color: Colors.primaryColor,\n  },\n  bottomButtonsContainer: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    borderTopRightRadius: 22,\n    borderTopLeftRadius: 22,\n    width: '100%',\n    padding: 16,\n    backgroundColor: '#efefef',\n  },\n  button: {\n    width: '48%',\n  },\n});\n\n// CartB\nexport default class CartB extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      total: 0.0,\n      products: [\n        {\n          id: 'product1',\n          imageUri: require('../../assets/img/pizza_3.jpg'),\n          name: 'Pizza One',\n          description:\n            'Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. ',\n          price: 7.99,\n          quantity: 2,\n        },\n        {\n          id: 'product3',\n          imageUri: require('../../assets/img/barbecue_1.jpg'),\n          name: 'Beef',\n          description:\n            'Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. ',\n          price: 8.99,\n          quantity: 2,\n        },\n        {\n          id: 'product4',\n          imageUri: require('../../assets/img/spaghetti_1.jpg'),\n          name: 'Fettuccine Pasta',\n          description:\n            'Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. ',\n          price: 11.99,\n          quantity: 1,\n        },\n      ],\n    };\n  }\n\n  componentDidMount = () => {\n    this.updateTotalAmount();\n  };\n\n  navigateTo = (screen) => () => {\n    const {navigation} = this.props;\n    navigation.navigate(screen);\n  };\n\n  swipeoutOnPressRemove = (item) => () => {\n    let {products} = this.state;\n    const index = products.indexOf(item);\n\n    products = remove(products, (n) => products.indexOf(n) !== index);\n\n    this.setState(\n      {\n        products,\n      },\n      () => {\n        this.updateTotalAmount();\n      },\n    );\n  };\n\n  onPressRemove = (item) => () => {\n    let {quantity} = item;\n    quantity -= 1;\n\n    let {products} = this.state;\n    const index = products.indexOf(item);\n\n    if (quantity === 0) {\n      products = remove(products, (n) => products.indexOf(n) !== index);\n    } else {\n      products[index].quantity = quantity;\n    }\n\n    this.setState(\n      {\n        products: [...products],\n      },\n      () => {\n        this.updateTotalAmount();\n      },\n    );\n  };\n\n  onPressAdd = (item) => () => {\n    const {quantity} = item;\n    const {products} = this.state;\n\n    const index = products.indexOf(item);\n    products[index].quantity = quantity + 1;\n\n    this.setState(\n      {\n        products: [...products],\n      },\n      () => {\n        this.updateTotalAmount();\n      },\n    );\n  };\n\n  updateTotalAmount = () => {\n    const {products} = this.state;\n    let total = 0.0;\n\n    products.forEach((product) => {\n      let {price} = product;\n      const {discountPercentage, quantity} = product;\n\n      if (typeof discountPercentage !== 'undefined') {\n        price -= price * discountPercentage * 0.01;\n      }\n      total += price * quantity;\n    });\n\n    this.setState({\n      total,\n    });\n  };\n\n  keyExtractor = (item) => item.id.toString();\n\n  renderProductItem = ({item}) => (\n    <ProductCard\n      key={item.id}\n      onPress={this.navigateTo('Product')}\n      onPressRemove={this.onPressRemove(item)}\n      onPressAdd={this.onPressAdd(item)}\n      activeOpacity={0.7}\n      imageUri={item.imageUri}\n      title={item.name}\n      price={item.price}\n      quantity={item.quantity}\n      swipeoutOnPressRemove={this.swipeoutOnPressRemove(item)}\n    />\n  );\n\n  renderSeparator = () => <Divider />;\n\n  render() {\n    const {total, products} = this.state;\n\n    return (\n      <SafeAreaView style={styles.container}>\n        <StatusBar\n          backgroundColor={Colors.statusBarColor}\n          barStyle=\"dark-content\"\n        />\n\n        <View style={styles.titleContainer}>\n          <Heading6 style={styles.titleText}>Cart</Heading6>\n\n          {products.length > 0 && (\n            <View style={styles.inline}>\n              <Subtitle1 style={styles.subTotalText}> Subtotal: </Subtitle1>\n              <Heading6 style={styles.subTotalPriceText}>\n                {`$ ${parseFloat(Math.round(total * 100) / 100).toFixed(2)}`}\n              </Heading6>\n            </View>\n          )}\n        </View>\n\n        {products.length === 0 ? (\n          <EmptyState\n            showIcon\n            iconName={EMPTY_STATE_ICON}\n            title=\"Your Cart is Empty\"\n            message=\"Looks like you haven't added anything to your cart yet\"\n          />\n        ) : (\n          <Fragment>\n            <FlatList\n              data={products}\n              keyExtractor={this.keyExtractor}\n              renderItem={this.renderProductItem}\n              ItemSeparatorComponent={this.renderSeparator}\n            />\n\n            <View style={styles.bottomButtonsContainer}>\n              <Button\n                onPress={this.navigateTo('Home')}\n                buttonStyle={styles.button}\n                color={Colors.tertiaryColor}\n                rounded\n                title=\"Add More\"\n              />\n              <Button\n                onPress={this.navigateTo('Checkout')}\n                buttonStyle={styles.button}\n                rounded\n                title=\"Checkout\"\n              />\n            </View>\n          </Fragment>\n        )}\n      </SafeAreaView>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}